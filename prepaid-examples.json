[
  {
    "userId": 221332,
    "subscriptionId": "sub_01jdk4r5k40pnz1vxfhdgsdhs5",
    "tier": "silver",
    "periodStart": "2025-05-20T03:03:26.485Z",
    "periodEnd": "2027-05-20T03:03:26.485Z",
    "subscriptionMetadata": { "prepaids": {"silver": 18} },
    "firstRedemption": "2025-10-07T10:11:57.718Z",
    "totalMonthsRedeemed": 12,
    "currentPrepaidBalance": 18, // 18 months left from today (2026-07-20) this is wrong
    "adjustedPrepaidBalance": 16, // 16 months left from today (2026-05-20) this is correct
    "expectedEndDate": "2027-05-20T03:03:26.485Z",
    "notes": "In this case the user had previously bought a 12-month sub at 2025-05-20 (not related to redeemable code), then redeemed a 12-month code at 2025-10-07, extending the end date to 2027-05-20. The current prepaid balance is 18 months from today (2026-07-20), but the adjusted prepaid balance is 16 months, reflecting the actual extension from the code redemption date. There's 2 months difference that needs to be adjusted."
  },
  {
    "userId": 6198670,
    "subscriptionId": "redeemable-code-MB-F0Q3-MSOF",
    "tier": "silver",
    "periodStart": "2025-07-15T17:42:58.990Z",
    "periodEnd": "2026-04-15T17:42:58.990Z",
    "subscriptionMetadata": { "prepaids": { "silver": 2 } },
    "firstRedemption": "2025-07-15 17:42:58.858",
    "totalMonthsRedeemed": 9, // 3 separate redemptions of 3 months each
    "currentPrepaidBalance": 2, // 2 months left from today (2026-03-15) this is wrong
    "adjustedPrepaidBalance": 3, // 3 months left from today (2026-04-15) this is correct
    "expectedEndDate": "2026-04-15T17:42:58.990Z",
    "notes": "In this case the user redeemed 3-month subs at 3 different times, the first one being at 2025-07-15, a second time redeemed a 3-month code at 2025-10-08, then one final time at 2026-01-07 extending the end date to 2026-04-15. The current prepaid balance is 2 months from today (2026-03-15), but the adjusted prepaid balance should be 3 months, reflecting the actual extension from the code redemption date. There's 1 month difference that needs to be adjusted."
  },
  {
    "userId": 3800195,
    "subscriptionId": "redeemable-code-MB-LDG1-AI0S",
    "tier": "bronze",
    "periodStart": "2025-10-26T05:14:45.328Z",
    "periodEnd": "2026-04-26T05:14:45.328Z",
    "subscriptionMetadata": { "prepaids": { "gold": 0, "bronze": 2, "silver": 0 } },
    "firstRedemption": "2025-10-26 05:14:45.133",
    "totalMonthsRedeemed": 6,
    "currentPrepaidBalance": 2, // 2 months left from today (2026-03-26) this is wrong
    "adjustedPrepaidBalance": 3, // 3 months left from today (2026-04-26) this is correct
    "expectedEndDate": "2026-04-26T05:14:45.328Z",
    "notes": "In this case the user redeemed a two 3-month bronze, the first one at 2025-10-26, then a second one at 2026-10-31 extending the end date to 2026-04-26. The current prepaid balance is 2 months from today (2026-03-26), but the adjusted prepaid balance should be 3 months, reflecting the actual extension from the code redemption date. There's 1 month difference that needs to be adjusted."
  },
  {
    "userId": 1,
    "subscriptionId": "redeemable-code-MB-ROSC-WGDT",
    "tier": "silver",
    "periodStart": "2025-07-14 22:37:31.221",
    "periodEnd": "2026-07-14 22:37:31.221",
    "subscriptionMetadata": { "prepaids": {"bronze": 4, "silver": 4}, "proratedDays": {"bronze": 31} },
    "firstRedemption": "2025-07-14 22:37:31.169",
    "totalMonthsRedeemed": 18, // two times 3-month silver + one time 6-month silver + two times 3-month bronze
    "currentPrepaidBalance": 4, // 2 months left from today (2026-05-14) for silver this is wrong
    "adjustedPrepaidBalance": 6, // 5 months left from today (2026-07-14) for silver this is correct
    "expectedEndDate": "2026-07-14 22:37:31.221", // For silver, then job takes care of adjusting to transition to bronze
    "notes": "This is a special case where the user redeemed multiple codes of different tiers and the prepaid balance got way off from both."
  },

]
